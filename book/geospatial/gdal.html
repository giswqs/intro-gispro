
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>26. Geospatial Data Processing with GDAL and OGR &#8212; Introduction to GIS Programming</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'book/geospatial/gdal';</script>
    <link rel="canonical" href="https://gispro.gishub.org/book/geospatial/gdal.html" />
    <link rel="icon" href="../../_static/fav.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="27. Building Interactive Dashboards with Voilà and Solara" href="solara.html" />
    <link rel="prev" title="25. High-Performance Geospatial Analytics with DuckDB" href="duckdb.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Introduction to GIS Programming - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Introduction to GIS Programming - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Preface</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../preface.html">Preface</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Software Setup</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../software/overview.html">1. Overview of Software Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/conda.html">2. Introduction to Python Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/vscode.html">3. Setting Up Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/git.html">4. Version Control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/colab.html">5. Using Google Colab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/jupyterlab.html">6. Working with JupyterLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/docker.html">7. Using Docker</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Programming Fundamentals</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../python/variables.html">8. Variables and Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/data-structures.html">9. Python Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/string-operations.html">10. String Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/looping.html">11. Loops and Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/functions-classes.html">12. Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/files.html">13. Working with Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/numpy-pandas.html">14. Data Analysis with NumPy and Pandas</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Geospatial Programming with Python</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="get-started.html">15. Introduction to Geospatial Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="geopandas.html">16. Vector Data Analysis with GeoPandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="rasterio.html">17. Working with Raster Data Using Rasterio</a></li>
<li class="toctree-l1"><a class="reference internal" href="xarray.html">18. Multi-dimensional Data Analysis with Xarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="rioxarray.html">19. Raster Analysis with Rioxarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="leafmap.html">20. Interactive Visualization with Leafmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="whitebox.html">21. Geoprocessing with WhiteboxTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="maplibre.html">22. 3D Mapping with MapLibre</a></li>
<li class="toctree-l1"><a class="reference internal" href="geemap.html">23. Cloud Computing with Earth Engine and Geemap</a></li>
<li class="toctree-l1"><a class="reference internal" href="hypercoast.html">24. Hyperspectral Data Visualization with HyperCoast</a></li>
<li class="toctree-l1"><a class="reference internal" href="duckdb.html">25. High-Performance Geospatial Analytics with DuckDB</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">26. Geospatial Data Processing with GDAL and OGR</a></li>
<li class="toctree-l1"><a class="reference internal" href="solara.html">27. Building Interactive Dashboards with Voilà and Solara</a></li>
<li class="toctree-l1"><a class="reference internal" href="sedona.html">28. Distributed Computing with Apache Sedona</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/giswqs/intro-gispro/main?urlpath=tree/book/geospatial/gdal.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/giswqs/intro-gispro/blob/main/book/geospatial/gdal.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/giswqs/intro-gispro" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/giswqs/intro-gispro/edit/main/book/geospatial/gdal.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/giswqs/intro-gispro/issues/new?title=Issue%20on%20page%20%2Fbook/geospatial/gdal.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/book/geospatial/gdal.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Geospatial Data Processing with GDAL and OGR</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">26.1. Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-use-gdal-directly">26.1.1. When to Use GDAL Directly</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">26.2. Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-and-setup">26.3. Installation and Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-datasets">26.4. Sample Datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-your-data">26.5. Understanding Your Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examining-raster-data">26.5.1. Examining Raster Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examining-vector-data">26.5.2. Examining Vector Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#coordinate-transformation">26.6. Coordinate Transformation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reprojecting-raster-data">26.6.1. Reprojecting Raster Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reprojecting-vector-data">26.6.2. Reprojecting Vector Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#format-conversion">26.7. Format Conversion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-raster-formats">26.7.1. Converting Raster Formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-vector-formats">26.7.2. Converting Vector Formats</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping-and-masking">26.8. Clipping and Masking</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping-raster-with-vector-boundaries">26.8.1. Clipping Raster with Vector Boundaries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping-vector-data">26.8.2. Clipping Vector Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#raster-analysis-and-calculations">26.9. Raster Analysis and Calculations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-individual-bands">26.9.1. Working with Individual Bands</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performing-band-mathematics">26.9.2. Performing Band Mathematics</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-between-raster-and-vector">26.10. Converting Between Raster and Vector</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectorization">26.10.1. Vectorization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rasterization">26.10.2. Rasterization</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geometry-processing">26.11. Geometry Processing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simplifying-complex-geometries">26.11.1. Simplifying Complex Geometries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dissolving-features-by-attributes">26.11.2. Dissolving Features by Attributes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exploding-multi-part-geometries">26.11.3. Exploding Multi-part Geometries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-fields-and-layers">26.12. Managing Fields and Layers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-specific-fields">26.12.1. Selecting Specific Fields</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#renaming-layers">26.12.2. Renaming Layers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-new-fields">26.12.3. Adding New Fields</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tiling-and-data-management">26.13. Tiling and Data Management</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-raster-tiles">26.13.1. Creating Raster Tiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#merging-raster-data">26.13.2. Merging Raster Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-multiple-vector-files">26.13.3. Working with Multiple Vector Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-raster-processing">26.14. Advanced Raster Processing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resampling-and-resolution-management">26.14.1. Resampling and Resolution Management</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-band-composites">26.14.2. Creating Band Composites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-missing-data">26.14.3. Handling Missing Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-optimized-geotiff">26.14.4. Cloud Optimized GeoTIFF</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#terrain-analysis">26.15. Terrain Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-slope">26.15.1. Computing Slope</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-aspect">26.15.2. Computing Aspect</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-hillshade-visualizations">26.15.3. Creating Hillshade Visualizations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-color-relief-maps">26.15.4. Creating Color Relief Maps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-hillshade-and-color-relief">26.15.5. Combining Hillshade and Color Relief</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generating-contour-lines">26.15.6. Generating Contour Lines</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">26.16. Key Takeaways</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-reading">26.17. References and Further Reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">26.18. Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-data-inspection-and-understanding">26.18.1. Exercise 1: Data Inspection and Understanding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-coordinate-transformation-practice">26.18.2. Exercise 2: Coordinate Transformation Practice</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3-format-conversion-and-optimization">26.18.3. Exercise 3: Format Conversion and Optimization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-4-spatial-clipping-and-analysis">26.18.4. Exercise 4: Spatial Clipping and Analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-5-raster-band-mathematics">26.18.5. Exercise 5: Raster Band Mathematics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-6-terrain-analysis-workflow">26.18.6. Exercise 6: Terrain Analysis Workflow</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-7-raster-vector-conversion">26.18.7. Exercise 7: Raster-Vector Conversion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-8-geometry-processing-and-data-management">26.18.8. Exercise 8: Geometry Processing and Data Management</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="geospatial-data-processing-with-gdal-and-ogr">
<h1><span class="section-number">26. </span>Geospatial Data Processing with GDAL and OGR<a class="headerlink" href="#geospatial-data-processing-with-gdal-and-ogr" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2><span class="section-number">26.1. </span>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<section id="when-to-use-gdal-directly">
<h3><span class="section-number">26.1.1. </span>When to Use GDAL Directly<a class="headerlink" href="#when-to-use-gdal-directly" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="learning-objectives">
<h2><span class="section-number">26.2. </span>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Link to this heading">#</a></h2>
</section>
<section id="installation-and-setup">
<h2><span class="section-number">26.3. </span>Installation and Setup<a class="headerlink" href="#installation-and-setup" title="Link to this heading">#</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>gdal<span class="w"> </span>pygis
</pre></div>
</div>
</section>
<section id="sample-datasets">
<h2><span class="section-number">26.4. </span>Sample Datasets<a class="headerlink" href="#sample-datasets" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>wget https://github.com/opengeos/datasets/releases/download/gdal/gdal_sample_data.zip
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unzip gdal_sample_data.zip
</pre></div>
</div>
</div>
</div>
</section>
<section id="understanding-your-data">
<h2><span class="section-number">26.5. </span>Understanding Your Data<a class="headerlink" href="#understanding-your-data" title="Link to this heading">#</a></h2>
<section id="examining-raster-data">
<h3><span class="section-number">26.5.1. </span>Examining Raster Data<a class="headerlink" href="#examining-raster-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalinfo dem.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="examining-vector-data">
<h3><span class="section-number">26.5.2. </span>Examining Vector Data<a class="headerlink" href="#examining-vector-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogrinfo buildings.geojson
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogrinfo buildings.geojson -al -so
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="coordinate-transformation">
<h2><span class="section-number">26.6. </span>Coordinate Transformation<a class="headerlink" href="#coordinate-transformation" title="Link to this heading">#</a></h2>
<section id="reprojecting-raster-data">
<h3><span class="section-number">26.6.1. </span>Reprojecting Raster Data<a class="headerlink" href="#reprojecting-raster-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalwarp -t_srs EPSG:4326 dem.tif dem_4326.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="reprojecting-vector-data">
<h3><span class="section-number">26.6.2. </span>Reprojecting Vector Data<a class="headerlink" href="#reprojecting-vector-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -t_srs EPSG:3857 buildings_3857.gpkg buildings.geojson
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="format-conversion">
<h2><span class="section-number">26.7. </span>Format Conversion<a class="headerlink" href="#format-conversion" title="Link to this heading">#</a></h2>
<section id="converting-raster-formats">
<h3><span class="section-number">26.7.1. </span>Converting Raster Formats<a class="headerlink" href="#converting-raster-formats" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_translate dem.tif dem.img
</pre></div>
</div>
</div>
</div>
</section>
<section id="converting-vector-formats">
<h3><span class="section-number">26.7.2. </span>Converting Vector Formats<a class="headerlink" href="#converting-vector-formats" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr buildings.gpkg buildings.geojson
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr las_vegas_bbox.fgb las_vegas_bbox.geojson
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="clipping-and-masking">
<h2><span class="section-number">26.8. </span>Clipping and Masking<a class="headerlink" href="#clipping-and-masking" title="Link to this heading">#</a></h2>
<section id="clipping-raster-with-vector-boundaries">
<h3><span class="section-number">26.8.1. </span>Clipping Raster with Vector Boundaries<a class="headerlink" href="#clipping-raster-with-vector-boundaries" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalwarp -cutline las_vegas_bbox.geojson -crop_to_cutline landsat.tif las_vegas.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="clipping-vector-data">
<h3><span class="section-number">26.8.2. </span>Clipping Vector Data<a class="headerlink" href="#clipping-vector-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -clipsrc las_vegas_bbox.geojson las_vegas_roads_clipped.geojson las_vegas_roads.geojson
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogrinfo las_vegas_bbox_4326.geojson -al -so
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -clipsrc -115.387634 35.943333 -114.883495 36.359161 las_vegas_roads_clipped.geojson las_vegas_roads.geojson
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="raster-analysis-and-calculations">
<h2><span class="section-number">26.9. </span>Raster Analysis and Calculations<a class="headerlink" href="#raster-analysis-and-calculations" title="Link to this heading">#</a></h2>
<section id="working-with-individual-bands">
<h3><span class="section-number">26.9.1. </span>Working with Individual Bands<a class="headerlink" href="#working-with-individual-bands" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_translate -b 5 landsat.tif nir.tif
gdal_translate -b 4 landsat.tif red.tif
gdal_translate -b 3 landsat.tif green.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="performing-band-mathematics">
<h3><span class="section-number">26.9.2. </span>Performing Band Mathematics<a class="headerlink" href="#performing-band-mathematics" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_calc.py \
  -A nir.tif \
  -B red.tif \
  --outfile=ndvi.tif \
  --calc=&quot;(A.astype(float) - B) / (A + B + 1e-6)&quot; \
  --type=Float32 \
  --NoDataValue=-9999
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_calc.py \
  -A ndvi.tif \
  --outfile=ndvi_clipped.tif \
  --calc=&quot;(A &lt; -1)*-1 + (A &gt; 1)*1 + ((A &gt;= -1) * (A &lt;= 1))*A&quot; \
  --type=Float32 \
  --NoDataValue=-9999 \
  --overwrite
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_calc.py -A ndvi_clipped.tif --outfile=vegetation.tif --calc=&quot;A&gt;0.3&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_translate -a_nodata 0 vegetation.tif vegetation_bin.tif
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_edit.py -a_nodata 0 vegetation.tif
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="converting-between-raster-and-vector">
<h2><span class="section-number">26.10. </span>Converting Between Raster and Vector<a class="headerlink" href="#converting-between-raster-and-vector" title="Link to this heading">#</a></h2>
<section id="vectorization">
<h3><span class="section-number">26.10.1. </span>Vectorization<a class="headerlink" href="#vectorization" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_polygonize.py building_masks.tif building_masks.gpkg
</pre></div>
</div>
</div>
</div>
</section>
<section id="rasterization">
<h3><span class="section-number">26.10.2. </span>Rasterization<a class="headerlink" href="#rasterization" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_rasterize -a uid -tr 0.6 0.6 -l buildings buildings_3857.gpkg buildings.tif
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_rasterize -burn 1 -tr 0.6 0.6 -l buildings buildings_3857.gpkg buildings2.tif
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="geometry-processing">
<h2><span class="section-number">26.11. </span>Geometry Processing<a class="headerlink" href="#geometry-processing" title="Link to this heading">#</a></h2>
<section id="simplifying-complex-geometries">
<h3><span class="section-number">26.11.1. </span>Simplifying Complex Geometries<a class="headerlink" href="#simplifying-complex-geometries" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -f GPKG -t_srs EPSG:26911 -simplify 1 simplified.gpkg building_masks.gpkg
</pre></div>
</div>
</div>
</div>
</section>
<section id="dissolving-features-by-attributes">
<h3><span class="section-number">26.11.2. </span>Dissolving Features by Attributes<a class="headerlink" href="#dissolving-features-by-attributes" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogrinfo -al -so us_states.geojson
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -dialect sqlite -sql &quot;SELECT ST_Union(geometry), country FROM us_states GROUP BY country&quot; us_states_dissolved.gpkg us_states.geojson
</pre></div>
</div>
</div>
</div>
</section>
<section id="exploding-multi-part-geometries">
<h3><span class="section-number">26.11.3. </span>Exploding Multi-part Geometries<a class="headerlink" href="#exploding-multi-part-geometries" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -explodecollections hawaii_parts.geojson hawaii.geojson
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="managing-fields-and-layers">
<h2><span class="section-number">26.12. </span>Managing Fields and Layers<a class="headerlink" href="#managing-fields-and-layers" title="Link to this heading">#</a></h2>
<section id="selecting-specific-fields">
<h3><span class="section-number">26.12.1. </span>Selecting Specific Fields<a class="headerlink" href="#selecting-specific-fields" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -select id,name us_states_select.geojson us_states.geojson
</pre></div>
</div>
</div>
</div>
</section>
<section id="renaming-layers">
<h3><span class="section-number">26.12.2. </span>Renaming Layers<a class="headerlink" href="#renaming-layers" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -nln states us_states_rename.gpkg us_states_select.geojson
</pre></div>
</div>
</div>
</div>
</section>
<section id="adding-new-fields">
<h3><span class="section-number">26.12.3. </span>Adding New Fields<a class="headerlink" href="#adding-new-fields" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogrinfo us_states_rename.gpkg -sql &quot;ALTER TABLE states ADD COLUMN area DOUBLE&quot;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="tiling-and-data-management">
<h2><span class="section-number">26.13. </span>Tiling and Data Management<a class="headerlink" href="#tiling-and-data-management" title="Link to this heading">#</a></h2>
<section id="creating-raster-tiles">
<h3><span class="section-number">26.13.1. </span>Creating Raster Tiles<a class="headerlink" href="#creating-raster-tiles" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir -p tiles
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_retile.py -targetDir tiles -ps 512 512 -co &quot;TILED=YES&quot; landsat.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="merging-raster-data">
<h3><span class="section-number">26.13.2. </span>Merging Raster Data<a class="headerlink" href="#merging-raster-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_merge.py -o landsat_merged.tif -of GTiff tiles/*.tif
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalwarp -of GTiff tiles/*.tif landsat_merged2.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="working-with-multiple-vector-files">
<h3><span class="section-number">26.13.3. </span>Working with Multiple Vector Files<a class="headerlink" href="#working-with-multiple-vector-files" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir -p states
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogrinfo -ro -al -geom=NO us_states.geojson | grep &quot;id (&quot; | awk &#39;{print $4}&#39; | while read id; do
    ogr2ogr -f GeoJSON &quot;states/${id}.geojson&quot; us_states.geojson -where &quot;id = &#39;${id}&#39;&quot;
done
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -f &quot;ESRI Shapefile&quot; us_states_merged.shp us_states.geojson
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ogr2ogr -f &quot;ESRI Shapefile&quot; -update -append \
  us_states_merged.shp hawaii.geojson -nln us_states_merged
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="advanced-raster-processing">
<h2><span class="section-number">26.14. </span>Advanced Raster Processing<a class="headerlink" href="#advanced-raster-processing" title="Link to this heading">#</a></h2>
<section id="resampling-and-resolution-management">
<h3><span class="section-number">26.14.1. </span>Resampling and Resolution Management<a class="headerlink" href="#resampling-and-resolution-management" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalwarp -tr 100 100 -r average dem.tif dem_100m.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="creating-band-composites">
<h3><span class="section-number">26.14.2. </span>Creating Band Composites<a class="headerlink" href="#creating-band-composites" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_merge.py -separate -o composite.tif nir.tif red.tif green.tif
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdalbuildvrt -separate stack.vrt nir.tif red.tif green.tif
gdal_translate stack.vrt composite.tif -co COMPRESS=DEFLATE
</pre></div>
</div>
</div>
</div>
</section>
<section id="handling-missing-data">
<h3><span class="section-number">26.14.3. </span>Handling Missing Data<a class="headerlink" href="#handling-missing-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_fillnodata.py -md 5 -of GTiff dem.tif filled_dem.tif
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_translate -a_nodata 0 dem.tif dem_nodata.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="cloud-optimized-geotiff">
<h3><span class="section-number">26.14.4. </span>Cloud Optimized GeoTIFF<a class="headerlink" href="#cloud-optimized-geotiff" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_translate dem.tif dem_cog.tif -of COG -co COMPRESS=DEFLATE
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="terrain-analysis">
<h2><span class="section-number">26.15. </span>Terrain Analysis<a class="headerlink" href="#terrain-analysis" title="Link to this heading">#</a></h2>
<section id="computing-slope">
<h3><span class="section-number">26.15.1. </span>Computing Slope<a class="headerlink" href="#computing-slope" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdaldem slope dem.tif slope.tif \
  -of GTiff \
  -compute_edges
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdaldem slope dem.tif slope_percent.tif \
  -of GTiff \
  -compute_edges \
  -p
</pre></div>
</div>
</div>
</div>
</section>
<section id="computing-aspect">
<h3><span class="section-number">26.15.2. </span>Computing Aspect<a class="headerlink" href="#computing-aspect" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdaldem aspect dem.tif aspect.tif \
  -of GTiff \
  -compute_edges
</pre></div>
</div>
</div>
</div>
</section>
<section id="creating-hillshade-visualizations">
<h3><span class="section-number">26.15.3. </span>Creating Hillshade Visualizations<a class="headerlink" href="#creating-hillshade-visualizations" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdaldem hillshade dem.tif hillshade.tif
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdaldem hillshade dem.tif multidirectional_hillshade.tif -multidirectional
</pre></div>
</div>
</div>
</div>
</section>
<section id="creating-color-relief-maps">
<h3><span class="section-number">26.15.4. </span>Creating Color Relief Maps<a class="headerlink" href="#creating-color-relief-maps" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cat &lt;&lt; EOF &gt; colormap.txt
500, 51, 51, 153
1000, 3, 147, 249
1500, 37, 211, 109
2000, 181, 240, 138
2500, 218, 208, 133
3000, 146, 115, 94
4000, 183, 163, 159
5000, 255, 255, 255
EOF
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdaldem color-relief dem.tif colormap.txt color_relief.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="combining-hillshade-and-color-relief">
<h3><span class="section-number">26.15.5. </span>Combining Hillshade and Color Relief<a class="headerlink" href="#combining-hillshade-and-color-relief" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_calc.py \
  -A color_relief.tif \
  -B hillshade.tif \
  --outfile=shaded_relief.tif \
  --calc=&quot;((A.astype(float) * 0.6) + (B.astype(float) * 0.4))&quot; \
  --type=Byte
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_calc.py \
  -A color_relief.tif \
  -B hillshade.tif \
  --outfile=color_hillshade.tif \
  --calc=&quot;A * (B / 255.0)&quot; \
  --type=Byte
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_calc.py -A color_relief.tif --A_band=1 -B hillshade.tif --outfile=r.tif --calc=&quot;A*(B/255.0)&quot; --type=Byte
gdal_calc.py -A color_relief.tif --A_band=2 -B hillshade.tif --outfile=g.tif --calc=&quot;A*(B/255.0)&quot; --type=Byte
gdal_calc.py -A color_relief.tif --A_band=3 -B hillshade.tif --outfile=b.tif --calc=&quot;A*(B/255.0)&quot; --type=Byte
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_merge.py -separate -o color_shaded_relief.tif r.tif g.tif b.tif
</pre></div>
</div>
</div>
</div>
</section>
<section id="generating-contour-lines">
<h3><span class="section-number">26.15.6. </span>Generating Contour Lines<a class="headerlink" href="#generating-contour-lines" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gdal_contour -i 100 dem.tif contours.shp
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="key-takeaways">
<h2><span class="section-number">26.16. </span>Key Takeaways<a class="headerlink" href="#key-takeaways" title="Link to this heading">#</a></h2>
</section>
<section id="references-and-further-reading">
<h2><span class="section-number">26.17. </span>References and Further Reading<a class="headerlink" href="#references-and-further-reading" title="Link to this heading">#</a></h2>
</section>
<section id="exercises">
<h2><span class="section-number">26.18. </span>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h2>
<section id="exercise-1-data-inspection-and-understanding">
<h3><span class="section-number">26.18.1. </span>Exercise 1: Data Inspection and Understanding<a class="headerlink" href="#exercise-1-data-inspection-and-understanding" title="Link to this heading">#</a></h3>
</section>
<section id="exercise-2-coordinate-transformation-practice">
<h3><span class="section-number">26.18.2. </span>Exercise 2: Coordinate Transformation Practice<a class="headerlink" href="#exercise-2-coordinate-transformation-practice" title="Link to this heading">#</a></h3>
</section>
<section id="exercise-3-format-conversion-and-optimization">
<h3><span class="section-number">26.18.3. </span>Exercise 3: Format Conversion and Optimization<a class="headerlink" href="#exercise-3-format-conversion-and-optimization" title="Link to this heading">#</a></h3>
</section>
<section id="exercise-4-spatial-clipping-and-analysis">
<h3><span class="section-number">26.18.4. </span>Exercise 4: Spatial Clipping and Analysis<a class="headerlink" href="#exercise-4-spatial-clipping-and-analysis" title="Link to this heading">#</a></h3>
</section>
<section id="exercise-5-raster-band-mathematics">
<h3><span class="section-number">26.18.5. </span>Exercise 5: Raster Band Mathematics<a class="headerlink" href="#exercise-5-raster-band-mathematics" title="Link to this heading">#</a></h3>
</section>
<section id="exercise-6-terrain-analysis-workflow">
<h3><span class="section-number">26.18.6. </span>Exercise 6: Terrain Analysis Workflow<a class="headerlink" href="#exercise-6-terrain-analysis-workflow" title="Link to this heading">#</a></h3>
</section>
<section id="exercise-7-raster-vector-conversion">
<h3><span class="section-number">26.18.7. </span>Exercise 7: Raster-Vector Conversion<a class="headerlink" href="#exercise-7-raster-vector-conversion" title="Link to this heading">#</a></h3>
</section>
<section id="exercise-8-geometry-processing-and-data-management">
<h3><span class="section-number">26.18.8. </span>Exercise 8: Geometry Processing and Data Management<a class="headerlink" href="#exercise-8-geometry-processing-and-data-management" title="Link to this heading">#</a></h3>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "giswqs/intro-gispro",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./book/geospatial"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="duckdb.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">25. </span>High-Performance Geospatial Analytics with DuckDB</p>
      </div>
    </a>
    <a class="right-next"
       href="solara.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">27. </span>Building Interactive Dashboards with Voilà and Solara</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">26.1. Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-use-gdal-directly">26.1.1. When to Use GDAL Directly</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">26.2. Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-and-setup">26.3. Installation and Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-datasets">26.4. Sample Datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-your-data">26.5. Understanding Your Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examining-raster-data">26.5.1. Examining Raster Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examining-vector-data">26.5.2. Examining Vector Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#coordinate-transformation">26.6. Coordinate Transformation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reprojecting-raster-data">26.6.1. Reprojecting Raster Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reprojecting-vector-data">26.6.2. Reprojecting Vector Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#format-conversion">26.7. Format Conversion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-raster-formats">26.7.1. Converting Raster Formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-vector-formats">26.7.2. Converting Vector Formats</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping-and-masking">26.8. Clipping and Masking</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping-raster-with-vector-boundaries">26.8.1. Clipping Raster with Vector Boundaries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping-vector-data">26.8.2. Clipping Vector Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#raster-analysis-and-calculations">26.9. Raster Analysis and Calculations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-individual-bands">26.9.1. Working with Individual Bands</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performing-band-mathematics">26.9.2. Performing Band Mathematics</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-between-raster-and-vector">26.10. Converting Between Raster and Vector</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vectorization">26.10.1. Vectorization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rasterization">26.10.2. Rasterization</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geometry-processing">26.11. Geometry Processing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simplifying-complex-geometries">26.11.1. Simplifying Complex Geometries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dissolving-features-by-attributes">26.11.2. Dissolving Features by Attributes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exploding-multi-part-geometries">26.11.3. Exploding Multi-part Geometries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-fields-and-layers">26.12. Managing Fields and Layers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-specific-fields">26.12.1. Selecting Specific Fields</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#renaming-layers">26.12.2. Renaming Layers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-new-fields">26.12.3. Adding New Fields</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tiling-and-data-management">26.13. Tiling and Data Management</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-raster-tiles">26.13.1. Creating Raster Tiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#merging-raster-data">26.13.2. Merging Raster Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-multiple-vector-files">26.13.3. Working with Multiple Vector Files</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-raster-processing">26.14. Advanced Raster Processing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resampling-and-resolution-management">26.14.1. Resampling and Resolution Management</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-band-composites">26.14.2. Creating Band Composites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-missing-data">26.14.3. Handling Missing Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-optimized-geotiff">26.14.4. Cloud Optimized GeoTIFF</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#terrain-analysis">26.15. Terrain Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-slope">26.15.1. Computing Slope</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-aspect">26.15.2. Computing Aspect</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-hillshade-visualizations">26.15.3. Creating Hillshade Visualizations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-color-relief-maps">26.15.4. Creating Color Relief Maps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-hillshade-and-color-relief">26.15.5. Combining Hillshade and Color Relief</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generating-contour-lines">26.15.6. Generating Contour Lines</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">26.16. Key Takeaways</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-reading">26.17. References and Further Reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">26.18. Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-data-inspection-and-understanding">26.18.1. Exercise 1: Data Inspection and Understanding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-coordinate-transformation-practice">26.18.2. Exercise 2: Coordinate Transformation Practice</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3-format-conversion-and-optimization">26.18.3. Exercise 3: Format Conversion and Optimization</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-4-spatial-clipping-and-analysis">26.18.4. Exercise 4: Spatial Clipping and Analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-5-raster-band-mathematics">26.18.5. Exercise 5: Raster Band Mathematics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-6-terrain-analysis-workflow">26.18.6. Exercise 6: Terrain Analysis Workflow</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-7-raster-vector-conversion">26.18.7. Exercise 7: Raster-Vector Conversion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-8-geometry-processing-and-data-management">26.18.8. Exercise 8: Geometry Processing and Data Management</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Qiusheng Wu
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>